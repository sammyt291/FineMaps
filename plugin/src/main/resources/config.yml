# FineMaps Configuration
# Database-backed map storage system

database:
  # Database type: 'sqlite' or 'mysql'
  type: sqlite

  # SQLite file name (relative to plugin folder)
  sqlite-file: maps.db

  # MySQL settings (only used if type is 'mysql')
  mysql:
    host: localhost
    port: 3306
    database: finemaps
    username: root
    password: ""
    use-ssl: false

permissions:
  # Default map creation limit for players (-1 for unlimited)
  default-limit: 100

  # Map limits per permission group
  # Players with finemaps.limit.<group> permission get that limit
  group-limits:
    vip: 500
    premium: 1000
    staff: -1

  # Whether to allow URL image imports
  allow-url-import: true

  # Maximum image size for URL imports (in pixels, width or height)
  max-import-size: 4096

  # Allowed URL domains for image import (empty for all)
  allowed-domains: []

maps:
  # Maximum number of virtual map IDs to use (0-32000)
  max-virtual-ids: 30000

  # How often to clean up unused virtual IDs (in ticks)
  # 6000 ticks = 5 minutes
  cleanup-interval: 6000

  # Time before a map is considered stale for cache cleanup (in milliseconds)
  # 86400000 = 24 hours
  stale-time: 86400000

  # Whether to show particle outlines for map previews on older versions (pre-1.19.4)
  use-particles-legacy: true

  # Whether to use block displays for map previews on 1.19.4+
  use-block-displays: true

images:
  # Whether to use dithering by default when creating maps from images
  default-dither: true

  # Maximum width for multi-block maps (in blocks)
  max-width: 10

  # Maximum height for multi-block maps (in blocks)
  max-height: 10

  # Connection timeout for URL imports (in milliseconds)
  connection-timeout: 10000

  # Read timeout for URL imports (in milliseconds)
  read-timeout: 30000

  # If true, URL imports will be cached to disk in the plugin folder
  url-cache-enabled: true

  # Folder (under the plugin data folder) to store URL cache files
  url-cache-folder: url-cache

  # Maximum allowed download size for a URL import. Supports suffix K, M, or G (no space).
  # If no suffix is provided, K is assumed.
  max-url-download-size: 8192K

  # Default FPS for animated imports (GIF/APNG/WEBP/MP4/WEBM) when not specified in the command
  default-animated-fps: 20

  # Path to ffmpeg executable used to decode video URL imports (MP4/WEBM).
  # Set to 'ffmpeg' to use the system PATH.
  ffmpeg-path: ffmpeg

  # Maximum number of frames to extract from a video import (MP4/WEBM)
  max-video-frames: 300

  # How many worker threads to use when rasterising animated imports (GIF/APNG/WEBP/MP4/WEBM).
  # 1 = single-threaded. 0 = auto (uses available processors).
  processor-threads: 0

economy:
  # Enable Vault economy integration (requires Vault + an economy plugin)
  enabled: false

  # Enable /fm buy
  enable-buy-command: true

  # Base cost per 1x1 map (multi-block cost multiplies by tiles if enabled)
  cost-per-map: 100.0

  # If true, multi-block map cost = cost-per-map * (width * height)
  multiply-by-tiles: true

gui:
  # Enable the paginated art browser GUI
  enabled: true

  # Show cost in the GUI tooltip when buying is enabled
  show-cost-in-tooltip: true
